# container-vulnerability-exporter

The container vulnerability exporter will collect an image inventory from an OpenShift cluster and report on detected vulnerabilties, for images hosted and scanned with Quay.io

Developed and tested with OpenShift =>3.11 ([k8s 1.11](https://github.com/openshift/origin/tree/release-3.11/vendor/k8s.io))

## Quickstart

- export KUBECONFIG="$HOME/.kube/config" (or change to any authenticated OpenShift client config path)
- export QUAY_TOKEN="aaabbbzzz" (set to QUAY api token)
- make build  
- make test

Once running, point a Prometheus scraper at localhost:8080 (default) or curl http://localhost:8080

## Additional configuration vars
- SKIPNS {optional}, list of namespaces to skip when collecting image data from a cluster
- TARGETNS {optional}, list of namespaces to scan for image data from a cluster
- POLL_INTERVAL {optional}, minimum wait time between queries of the Quay API
